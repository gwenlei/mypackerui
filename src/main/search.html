<!DOCTYPE html>
<html>
<head>
<title>Bootstrap 实例 - 基本的表格</title>
<link href="static/css/bootstrap.min.css" rel="stylesheet">
<script src="static/js/jquery.min.js"></script>
<script src="static/js/bootstrap.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
			$.getJSON("static/data/ansiblelog.json",function(result){
                                $.each(result, function(i, field){
                                        $("#reportb").append("<tr>");
                                        var parttext1=document.createElement("input");
                                        parttext1.id="clickt";
                                        parttext1.name="clickt";
                                        parttext1.type="checkbox";
                                        parttext1.value=field.timestamp;
                                        document.getElementById("reportb").appendChild(parttext1);
                                        $("#reportb").append("<td>"+field.status+"</td>");
                                        $("#reportb").append("<td><a href=\""+field.log+"\">log</a></td>");
                                        $("#reportb").append("<td>"+field.rolename+"</td>");
                                        $("#reportb").append("<td>"+field.successroles+"</td>");
                                        $("#reportb").append("<td>"+field.timestamp+"</td>");
                                        $("#reportb").append("<td>"+field.ostype+"</td>");
                                        $("#reportb").append("<td>"+field.backingfile+"</td>");
                                        $("#reportb").append("<td>"+field.times+"</td>");
                                        $("#reportb").append("<td>"+parseInt(field.filtertime/60)+"m"+field.filtertime%60+"s"+"</td>");
                                        $("#reportb").append("</tr>");
				});
		});
});

function searchr() 
{ 
document.form1.action="/searchroles"; 
document.form1.submit(); 
} 

function deleter() 
{ 
document.form1.action="/deleteroles"; 
document.form1.submit(); 
}  
</script>
</head>
<body>
</br>
<form name="form1" class="form-horizontal" method="post">
<div class="container-fluid">
	<div class="row">
		<div class="col-md-4">

				<div class="form-group">
					<label for="ostype" class="col-sm-2 control-label">ostype</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" id="ostype" name="ostype" value="Ubuntu16.04">
					</div>
				</div>
				<div class="form-group">
					<label for="ostype" class="col-sm-2 control-label">backingfile</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" id="backingfile" name="backingfile" value="/home/html/downloads/Ubuntu16-04(1).qcow2">
					</div>
				</div>				<div class="form-group">
					<label for="rolename" class="col-sm-2 control-label">rolename</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" id="rolename" name="rolename" value="mysql">
					</div>
				</div>
				<div class="form-group">
					<label for="times" class="col-sm-2 control-label">times</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" id="times" name="times" value="10">
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-10">
		<button type="button" class="btn btn-default" onClick="searchr()">search</button>
					</div>
				</div>


</div>
</div>
</div>
<table class="table">
	<caption>searchreport</caption>
	<thead>
		<tr>
			<th>selected</th>
                        <th>status</th>
			<th>log</th>
			<th>rolename</th>
			<th>successroles</th>
			<th>timestamp</th>
			<th>ostype</th>
			<th>backingfile</th>
                        <th>times</th>
                        <th>filtertime</th>
		</tr>
	</thead>
	<tbody id="reportb">
	</tbody>
</table>
<button type="button" class="btn btn-default" onClick="deleter()">delete</button>
</form>



</body>
</html>			
